<a name="features"></a>
<h2>Features</h2>


<p>
  The <span class="relacs">relacs</span> software platform offers the 
  following main features:
</p>


<a name="closedloop"></a>
<h3>Closed-loop experiments</h3>
<p>
  Traditionally, appropriate stimuli for probing a neuron
  are generated first.
  Then some days are spent doing experiments with the new stimuli.
  Afterwards the preliminary data are analyzed offline.
  Based on the findings the experimental protocol and the stimuli
  are modified and new experiments are conducted.
</p>

<div class="figureright">
  <div class="image">
    <img src="closedloop.png" alt="closed-loop">
  </div>
  <div class="caption">
    Closed-loop experiments.  
    From <a href="../publications/Benda2007abstract.html">
    Benda et al. 2007</a>.
  </div>
  <div class="bottom"></div>
</div>

<p>
  <span class="relacs">relacs</span> is designed as an framework for
  closed-loop experiments that may considerably speed up
  this traditional approach and
  in addition offers novel experimental possibilities.
  In a closed-loop experiment a stimulus is presented (1),
  the resulting response (2) is analyzed immediately (3),
  and properties of the next stimulus (4) (mean intensity,
  standard deviation, spectral content...)
  are adjusted as needed (see figure).
</p>

<p>
  The closed-loop approach is beneficial on many levels,
  even for traditional experimental paradigms:
</p>
<ul>

  <li>Processed results are displayed immediately in addition
  to the raw voltage traces and thus give the experimenter valuable
  quantitative information about the recorded cell during a running 
  experiment. For example, quality of the spike detection,
  sensitivity or input resistance of the cell, heart rate, etc.</li>

  <li>Probing the neuron with stimuli that are outside its dynamic range
  can be avoided and thus the yield of a recording is maximized.</li>

  <li>Advancing of individual electrodes can be automated,
  such that the chance to get a dual recording
  is increased.</li>

</ul>

<p>
  Closed-loop experiments, however, also offer new experimental designs:
</p>
<ul>

  <li>Optimal search for a neuron's receptive field.
      <a href="../publications/Benda2007abstract.html#receptivefield">More ...</a></li>

  <li>Search for stimuli that drive a neuron in an "optimal"
      way (firing rate, coding quality, mutual information).
      <a href="../publications/Benda2007abstract.html#optimalstimulus">More ...</a></li>

  <li>Find set's of stimulus parameter that result in the
      same response (iso-response method).
      <a href="../publications/Benda2007abstract.html#isoresponse">More ...</a></li>

</ul>
<p>
  See our review <a href="../publications/Benda2007abstract.html">
  "From response to stimulus: adaptive sampling in sensory physiology"</a>
  for more details.
</p>


<a name="hardware"></a>
<h3>Hardware-independent research protocols</h3>
<p>
  Central to <span class="relacs">relacs</span> are the "research
  protocols" (RePros). They control the experiment by analysing and
  visualizing data and generating stimuli. The 
  <span class="relacs">relacs</span>-core
  completely hides all specific hardware details behind the scenes.
  Therefore research protocols can be implemented independently of
  the hardware used at a particular experimental setup (data
  acquisition board, attenuator, temperature sensors, motorized
  micromanipulators).  This allows to use the very same research
  protocols for all your different experimental setups in your lab, no
  matter what particular hardware is used.  Furthermore, this offers
  the unique possibility to share research protocols with other
  labs.
</p>


<a name="analysis"></a>
<h3>Data-analysis library</h3>
<p>
  <span class="relacs">relacs</span> comes with an extensive set of data-analysis functions.
  The functions are implemented in C++ to allow fast and memory efficient
  data-analysis as it is required for closed-loop experiments.
</p>
<ul>
  <li>Basic statistics
      (mean, standard deviation, median, correlation ...)</li>
  <li>Spectral analysis: power spectrum, transfer function, coherence</li>
  <li>Linear and nonlinear fits (Levenberg-Marquardt and Simplex)</li>
  <li>Peak detection</li>
  <li>Histograms, interpolation</li>
  <li>Stimulus generation: pulse, saw tooth,
      band-pass filtered white noise, Ornstein-Uhlenbeck noise</li>
  <li>Firing rates: mean, binned, convolved with kernels
      (rectangle, triangle, gaussian, exponential, ...), 1/ISI</li>
  <li>Interspike intervals: histogram, CV, serial correlation</li>
  <li>Spike timing precision: vector strength, reliability,
      correlation, synchrony</li>
  <li>...</li>
</ul>
<p>
  New functions are added as required.
</p>


<a name="metadata"></a>
<h3>Metadata</h3>
<p>
  For offline data-analysis, data management, and data sharing the
  annotation of the raw data with metadata that specify the stimuli,
  the recorded neuron, the animal, as well as context of the
  experiment is necessary. Traditionally, such data have been written
  into lab books.  <span class="relacs">relacs</span> knows already
  many of the relevant metadata.  In particular, these are properties
  of the generated stimuli and settings of the controlled hardware.
  Upon completion of a recording, <span class="relacs">relacs</span>
  immediately forces the experimenter to provide additional important
  information through a freely configurable dialog.  In addition, for
  each recording all configuration files, log files, and settings of
  the research protocols are saved as well.  Thus, <span
  class="relacs">relacs</span> minimizes manual efforts as much as
  possible in providing metadata. This is especially important when it
  comes to data sharing over public databases like <a
  href="http://www.g-node.de/">G-Node</a>.
</p>
<p>
  We developed <a href="http://www.g-node.de/odml/">odML</a>, a file
  format for hierarchically organized key-value pairs that is
  independent of any specific database-schema and thus can be used as
  a general file format for exchanging metadata.  Through customized
  terminologies the metadata can be structured and standardized for
  ensuring interoperability while at the same time not restricting the
  content, thus providing immediate flexibility.  This way, metadata
  can be directly submitted to a local as well as public data-bases,
  like for example the <a
  href="http://lablog.sourceforge.net">LabLog</a> or the <a
  href="http://www.g-node.org">German Neuroinformatics Node</a>,
  without any manual interference.
  See our paper <a href="../publications/Grewe2011abstract.html">
  "A bottom-up approach to data annotation in neurophysiology"</a>
  for more details on odML.
</p>
<p>
  The <a href="https://github.com/G-Node/nix">NIX</a> project develops
  generic data models that are tightly linked to
  meta-data. <span class="relacs">relacs</span> is using the NIX data
  model for writing the acquired data and meta-data into a single HD5
  file.
</p>


<a name="dynclamp"></a>
<h3>Dynamic clamp</h3>

<div class="figureright">
  <div class="image">
    <img src="dynclamp.png" alt="dynamic-clamp">
  </div>
  <div class="caption" style="max-width:400px">
    The dynamic clamp. During each sampling cycle a voltage V is read in,
    a current I is computed, and this current is injected back into the cell.
  </div>
  <div class="bottom"></div>
</div>

<p>
  The dynamic clamp is a technique that is used in the neurosciences
  to artificially introduce ionic conductances to a neuron.
  This is accomplished by a closed-loop system running on a per-sample basis.
  First, a voltage value is read in.
  Then, a current is computed depending on that voltage.
  Finally, this current is injected back into the cell.
</p>

<p>
  Dynamic clamp can be easily added to <span class="relacs">relacs</span>
  by providing a specific implementation of the AnanlogInput and AnalogOutput
  device classes.

  Currently, an implementation based on <a
  href="http://www.rtai.org">RTAI</a> real-time Linux and <a
  href="http://www.comedi.org">comedi</a> for accessing data
  acquisition boards is provided (<a href="../plugins/comedi/Comedi-DynClampAnalogInput.html">DynClampAnalogInput</a>
  and <a href="../plugins/comedi/Comedi-DynClampAnalogOutput.html">DynClampAnalogOutput</a>).
</p>


<a name="model"></a>
<h3>Integration of experiment and model simulations</h3>
<p>
  Besides acquiring data from a real experiment,
  <span class="relacs">relacs</span> can also run in a simulation mode,
  where the data are acquired from a model simulation.
  This is a very important feature, that sets <span class="relacs">relacs</span> apart
  from many other data acquisition software:
</p>
<ol>
  <li>For developing advanced and optimized closed-loop
  research protocols, the simulation mode is essential to properly
  develop and test them in advance before they are applied
  to an experiment.</li>

  <li>The simulation mode allows to test both, the real neuron
  and a model, with exactly the same research protocols.
  This is advantageous for model development close to
  experimental data.</li>

</ol>
<p>
  Models can be implemented as a <a href="../plugins/models.html">Model plugin</a>
  for <span class="relacs">relacs</span>.
</p>


<a name="free"></a>
<h3>Free software</h3>
<p>
  <span class="relacs">relacs</span> is distributed as 
  <a href="http://www.fsf.org/licensing/essays/free-sw.html">free software</a>
  ("free" as in "free speech")
  under the <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License (GPL)</a>.
</p>
<ul>
  <li>Everybody can use the program without the hassle of licenses of commercial software.</li>
  <li>Everybody can modify the program, i.e. add whatever new feature you need
      directly to the program.</li>
  <li>You can easily share the program and your specific research protocols
      with your collaborators.</li>
  <li>You always have the possibility to look into source code,
      so that you know what the program is really doing.
      This is especially important when it comes to data analysis functions
      where the science comes in.</li>
</ul>
